[tox]
envlist = py313,py314
isolated_build = true

[gh-actions]
python =
    3.13: py313
    3.14: py314

[testenv]
# Use uv for faster dependency installation
package = wheel
wheel_build_env = .pkg
pass_env =
    NOM_DB_HOST
    NOM_DB_NAME
    NOM_DB_PASSWORD
    NOM_DB_USER
    NOM_REDIS_HOST
    NOM_EMAIL_HOST
set_env =
    NOM_SECRET_KEY = bogon
deps = 
    uv
allowlist_externals = 
    uv
commands_pre =
    uv sync --group dev
commands = 
    uv run pytest {posargs}

[testenv:py313]
basepython = python3.13

[testenv:py314]
basepython = python3.14
